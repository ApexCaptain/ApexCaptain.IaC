# ApexCaptain.IaC - Infrastructure as Code

## ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”

OCI ê¸°ë°˜ì˜ ë©€í‹° í´ëŸ¬ìŠ¤í„° Kubernetes í™˜ê²½ì„ CDK for Terraform(CDKTF)ì„ ì‚¬ìš©í•˜ì—¬ ê´€ë¦¬í•˜ëŠ” IaC í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.

### ğŸ¯ ì£¼ìš” ëª©í‘œ

- **ë©€í‹° í´ëŸ¬ìŠ¤í„° Kubernetes í™˜ê²½** êµ¬ì¶• ë° ê´€ë¦¬
  - Oracle Cloud OKE í´ëŸ¬ìŠ¤í„° (í´ë¼ìš°ë“œ)
  - On-premise Workstation í´ëŸ¬ìŠ¤í„°
- **GitOps ê¸°ë°˜ ë°°í¬ íŒŒì´í”„ë¼ì¸** êµ¬í˜„
- **ê°œì¸ ë¯¸ë””ì–´ ì„œë²„ & ê²Œì„ ì„œë²„ ì¸í”„ë¼**
- **ë³´ì•ˆ ë° ëª¨ë‹ˆí„°ë§** ì²´ê³„ êµ¬ì¶•
- **í´ë¼ìš°ë“œ ë„¤ì´í‹°ë¸Œ ê°œë°œ í™˜ê²½** ì œê³µ

---

## ğŸ—ï¸ ê¸°ìˆ  ìŠ¤íƒ

### í•µì‹¬ ê¸°ìˆ 

- **CDK for Terraform (CDKTF)** - TypeScript ê¸°ë°˜ ì¸í”„ë¼ ì •ì˜
- **Oracle Cloud Infrastructure (OCI)** - í´ë¼ìš°ë“œ í”Œë«í¼
- **Kubernetes** - ì»¨í…Œì´ë„ˆ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜
- **Istio** - ì„œë¹„ìŠ¤ ë©”ì‹œ
- **ArgoCD** - GitOps ë°°í¬ ê´€ë¦¬ (êµ¬í˜„ ì™„ë£Œ)
- **Longhorn** - ë¶„ì‚° ìŠ¤í† ë¦¬ì§€ ì‹œìŠ¤í…œ
- **MetalLB** - ë¡œë“œ ë°¸ëŸ°ì„œ

### ê°œë°œ ë„êµ¬

- **TypeScript** - ë©”ì¸ ê°œë°œ ì–¸ì–´
- **NestJS** - ì• í”Œë¦¬ì¼€ì´ì…˜ í”„ë ˆì„ì›Œí¬
- **Projen** - í”„ë¡œì íŠ¸ ìë™í™” ë„êµ¬
- **ESLint + Prettier** - ì½”ë“œ í’ˆì§ˆ ê´€ë¦¬
- **Yarn** - íŒ¨í‚¤ì§€ ê´€ë¦¬
- **Context7** - MCP ì„œë²„ í†µí•©

---

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
ApexCaptain.IaC/
â”œâ”€â”€ ğŸ“ src/                          # ì†ŒìŠ¤ ì½”ë“œ
â”‚   â”œâ”€â”€ ğŸ“ terraform/               # CDKTF ì¸í”„ë¼ ì •ì˜
â”‚   â”‚   â”œâ”€â”€ ğŸ“ stacks/              # ì¸í”„ë¼ ìŠ¤íƒë“¤
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ k8s/            # Kubernetes ê´€ë ¨ ìŠ¤íƒ
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ oke/        # Oracle Kubernetes Engine (í´ë¼ìš°ë“œ)
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ apps/   # ì• í”Œë¦¬ì¼€ì´ì…˜
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ argo-cd.stack.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ cert-manager.stack.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ cloudbeaver.stack.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard.stack.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ git-ops.stack.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ home-l2tp-vpn-proxy.stack.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ingress-controller.stack.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ istio.stack.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ monitoring.stack.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ nfs.stack.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ oauth2-proxy.stack.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ redis-ui.stack.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ vault.stack.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ cluster.stack.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ network.stack.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ bastion.stack.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ compartment.stack.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ endpoint.stack.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ policy.stack.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ system.stack.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ workstation/ # On-premise Workstation
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ ğŸ“ apps/   # ê°œì¸/ë¯¸ë””ì–´/ê²Œì„ ì„œë¹„ìŠ¤
â”‚   â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ cert-manager.stack.ts
â”‚   â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ dashboard.stack.ts
â”‚   â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ game.7dtd.stack.ts
â”‚   â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ game.sftp.stack.ts
â”‚   â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ git-ops.stack.ts
â”‚   â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ ingress-controller.stack.ts
â”‚   â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ istio.stack.ts
â”‚   â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ longhorn.stack.ts
â”‚   â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ metallb.stack.ts
â”‚   â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ monitoring.stack.ts
â”‚   â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ nas.jellyfin.stack.ts
â”‚   â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ nas.qbittorrent.stack.ts
â”‚   â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ nas.sftp.stack.ts
â”‚   â”‚   â”‚   â”‚       â”‚   â””â”€â”€ windows.stack.ts
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ ğŸ“ dev-pods/ # ê°œë°œ í™˜ê²½ Pod
â”‚   â”‚   â”‚   â”‚       â”‚   â””â”€â”€ apex-captain.stack.ts
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ system.stack.ts
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ node-meta.stack.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ cloudflare/      # DNS ë° CDN ì„¤ì •
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ firewall.stack.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ record.stack.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ zone.stack.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ project/         # í”„ë¡œì íŠ¸ ê³µí†µ ì„¤ì •
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ apps/       # ì• í”Œë¦¬ì¼€ì´ì…˜
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ number-planet.stack.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ github-io.stack.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ profile.stack.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ ocir.stack.ts      # Oracle Container Image Registry
â”‚   â”‚   â”‚   â”œâ”€â”€ git-ops.stack.ts   # GitOps ê´€ë¦¬ ìŠ¤íƒ
â”‚   â”‚   â”‚   â””â”€â”€ project.stack.ts   # í”„ë¡œì íŠ¸ ë©”ì¸ ìŠ¤íƒ
â”‚   â”‚   â”œâ”€â”€ terraform.module.ts
â”‚   â”‚   â””â”€â”€ terraform.config.service.ts
â”‚   â”œâ”€â”€ ğŸ“ common/                  # ê³µí†µ ìœ í‹¸ë¦¬í‹°
â”‚   â”œâ”€â”€ ğŸ“ global/                  # ê¸€ë¡œë²Œ ì„¤ì •
â”‚   â””â”€â”€ main.ts                     # ì§„ì…ì 
â”œâ”€â”€ ğŸ“ scripts/                     # ìë™í™” ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ backup-tfstate.script.ts    # Terraform ìƒíƒœ ë°±ì—…
â”‚   â”œâ”€â”€ tf-deploy-selection.script.ts # ì„ íƒì  ë°°í¬
â”‚   â”œâ”€â”€ terminal-v2.script.ts       # ëŒ€í™”í˜• í„°ë¯¸ë„ ë„êµ¬ v2
â”‚   â”œâ”€â”€ create-random-string.script.ts
â”‚   â”œâ”€â”€ ğŸ“ terminal/               # í„°ë¯¸ë„ ë„êµ¬
â”‚   â”œâ”€â”€ ğŸ“ external/               # ì™¸ë¶€ ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ ğŸ“ generated/              # ìƒì„±ëœ ìŠ¤í¬ë¦½íŠ¸
â”‚   â””â”€â”€ ğŸ“ stage/                  # ë‹¨ê³„ë³„ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ ğŸ“ assets/                      # ì •ì  ìì‚°
â”‚   â”œâ”€â”€ ğŸ“ static/                 # ì •ì  íŒŒì¼
â”‚   â”‚   â”œâ”€â”€ 7dtd.install-additional-mods.js
â”‚   â”‚   â”œâ”€â”€ home-l2tp-vpn-proxy.startup.sh
â”‚   â”‚   â””â”€â”€ ğŸ“ windows/           # Windows ê´€ë ¨ ìŠ¤í¬ë¦½íŠ¸
â”‚   â””â”€â”€ ğŸ“ templates/              # í…œí”Œë¦¿ íŒŒì¼
â”œâ”€â”€ ğŸ“ .projen/                     # Projen ìƒì„± íŒŒì¼
â”œâ”€â”€ ğŸ“ .github/                     # GitHub Actions
â”œâ”€â”€ ğŸ“ .devcontainer/              # ê°œë°œ ì»¨í…Œì´ë„ˆ ì„¤ì •
â”œâ”€â”€ ğŸ“ .cursor/                     # Cursor MCP ì„¤ì •
â”œâ”€â”€ ğŸ“ keys/                        # ì¸ì¦ í‚¤ íŒŒì¼
â”œâ”€â”€ ğŸ“ env/                         # í™˜ê²½ ë³€ìˆ˜
â”œâ”€â”€ ğŸ“ .secrets/                    # ì‹œí¬ë¦¿ íŒŒì¼ (gitignore)
â””â”€â”€ ğŸ“ tmp/                         # ì„ì‹œ íŒŒì¼
```

---

## ğŸš€ ì£¼ìš” ê¸°ëŠ¥

### 1. í•˜ì´ë¸Œë¦¬ë“œ ë©€í‹° í´ëŸ¬ìŠ¤í„° Kubernetes í™˜ê²½

- **Oracle Kubernetes Engine (OKE)** í´ëŸ¬ìŠ¤í„° ìë™ í”„ë¡œë¹„ì €ë‹ (í´ë¼ìš°ë“œ)
- **On-premise Workstation í´ëŸ¬ìŠ¤í„°** On-Premiseë¡œ êµ¬ì¶• (ë¡œì»¬ í™˜ê²½)
- **Istio ì„œë¹„ìŠ¤ ë©”ì‹œ** êµ¬ì¶•ìœ¼ë¡œ ì„œë¹„ìŠ¤ ê°„ í†µì‹  ê´€ë¦¬
- **í•˜ì´ë¸Œë¦¬ë“œ ë©€í‹° í´ëŸ¬ìŠ¤í„° í†µì‹ ** ì„¤ì • (ì§„í–‰ ì¤‘)

### 2. ë³´ì•ˆ ë° ì¸ì¦

- **Vault** - ì‹œí¬ë¦¿ ê´€ë¦¬ ì‹œìŠ¤í…œ (ê°œë°œ ì¤‘)
- **OAuth2 Proxy** - ì¸ì¦ í”„ë¡ì‹œ (êµ¬í˜„ ì™„ë£Œ)
- **Cert-Manager** - SSL ì¸ì¦ì„œ ìë™ ê´€ë¦¬ (êµ¬í˜„ ì™„ë£Œ)
- **Bastion í˜¸ìŠ¤íŠ¸** - ë³´ì•ˆ ì ‘ê·¼ ì œì–´

### 3. ëª¨ë‹ˆí„°ë§ ë° ê´€ì°°ì„±

- **Prometheus + Grafana** - ë©”íŠ¸ë¦­ ìˆ˜ì§‘ ë° ì‹œê°í™” (ê°œë°œ ì¤‘)

### 4. DevOps ë„êµ¬

- **ArgoCD** - GitOps ê¸°ë°˜ ë°°í¬ ê´€ë¦¬ (êµ¬í˜„ ì™„ë£Œ)
- **OCIR** - Oracle Container Image Registry í†µí•© (êµ¬í˜„ ì™„ë£Œ)
- **GitOps íŒŒì´í”„ë¼ì¸** - ìë™í™”ëœ CI/CD ì›Œí¬í”Œë¡œìš° (êµ¬í˜„ ì™„ë£Œ)
- **CloudBeaver** - ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬ ë„êµ¬ (êµ¬í˜„ ì™„ë£Œ)
- **Redis UI** - Redis ê´€ë¦¬ ì¸í„°í˜ì´ìŠ¤ (êµ¬í˜„ ì™„ë£Œ)
- **Home L2TP VPN Proxy** - ì›ê²© ë„¤íŠ¸ì›Œí¬ ì ‘ê·¼ í”„ë¡ì‹œ (êµ¬í˜„ ì™„ë£Œ)

### 5. ê°œì¸ ë¯¸ë””ì–´ ì„œë²„ ì¸í”„ë¼ (On-premise)

- **Jellyfin** - ë¯¸ë””ì–´ ìŠ¤íŠ¸ë¦¬ë° ì„œë²„ (êµ¬í˜„ ì™„ë£Œ)
- **qBittorrent** - í† ë ŒíŠ¸ ë‹¤ìš´ë¡œë“œ ê´€ë¦¬ (êµ¬í˜„ ì™„ë£Œ)
- **7 Days to Die** - ê²Œì„ ì„œë²„ (êµ¬í˜„ ì™„ë£Œ)
- **SFTP ì„œë²„** - íŒŒì¼ ì „ì†¡ ì„œë¹„ìŠ¤ (êµ¬í˜„ ì™„ë£Œ)
- **Longhorn Storage** - ë¶„ì‚° ìŠ¤í† ë¦¬ì§€ ì‹œìŠ¤í…œ (êµ¬í˜„ ì™„ë£Œ)

---

## ğŸ® ë°°í¬ëœ ì• í”Œë¦¬ì¼€ì´ì…˜ ëª©ë¡

### Oracle Cloud OKE í´ëŸ¬ìŠ¤í„° (í´ë¼ìš°ë“œ)

#### ì‹œìŠ¤í…œ ì• í”Œë¦¬ì¼€ì´ì…˜

- **Istio Service Mesh** - ì„œë¹„ìŠ¤ ê°„ í†µì‹  ê´€ë¦¬ (ê°œë°œ ì¤‘)
- **ArgoCD** - GitOps ë°°í¬ ê´€ë¦¬ (êµ¬í˜„ ì™„ë£Œ)
- **Vault** - ì‹œí¬ë¦¿ ê´€ë¦¬ ì‹œìŠ¤í…œ (ê°œë°œ ì¤‘)
- **Prometheus + Grafana** - ëª¨ë‹ˆí„°ë§ ë° ë©”íŠ¸ë¦­ ìˆ˜ì§‘ (êµ¬í˜„ ì™„ë£Œ)
- **Cert-Manager** - SSL ì¸ì¦ì„œ ìë™ ê´€ë¦¬ (êµ¬í˜„ ì™„ë£Œ)
- **Ingress Controller** - íŠ¸ë˜í”½ ë¼ìš°íŒ… (êµ¬í˜„ ì™„ë£Œ)

#### ì¼ë°˜ ì• í”Œë¦¬ì¼€ì´ì…˜

- **Number Planet** - ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ (êµ¬í˜„ ì™„ë£Œ)
- **CloudBeaver** - ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬ ë„êµ¬
- **Redis UI** - Redis ê´€ë¦¬ ì¸í„°í˜ì´ìŠ¤
- **OAuth2 Proxy** - ì¸ì¦ í”„ë¡ì‹œ
- **Home L2TP VPN Proxy** - ì›ê²© ë„¤íŠ¸ì›Œí¬ ì ‘ê·¼ í”„ë¡ì‹œ
- **NFS Server** - ë„¤íŠ¸ì›Œí¬ íŒŒì¼ ì‹œìŠ¤í…œ
- **Kubernetes Dashboard** - í´ëŸ¬ìŠ¤í„° ê´€ë¦¬ UI

### On-premise Workstation í´ëŸ¬ìŠ¤í„°

#### ì‹œìŠ¤í…œ ì• í”Œë¦¬ì¼€ì´ì…˜

- **Istio Service Mesh** - ì„œë¹„ìŠ¤ ê°„ í†µì‹  ê´€ë¦¬ (ê°œë°œ ì¤‘)
- **Longhorn Storage** - ë¶„ì‚° ìŠ¤í† ë¦¬ì§€ ì‹œìŠ¤í…œ (êµ¬í˜„ ì™„ë£Œ)
- **MetalLB Load Balancer** - ë¡œë“œ ë°¸ëŸ°ì‹± (êµ¬í˜„ ì™„ë£Œ)
- **Prometheus + Grafana** - ëª¨ë‹ˆí„°ë§ ë° ë©”íŠ¸ë¦­ ìˆ˜ì§‘ (ê°œë°œ ì¤‘)
- **Cert-Manager** - SSL ì¸ì¦ì„œ ìë™ ê´€ë¦¬ (êµ¬í˜„ ì™„ë£Œ)
- **Ingress Controller** - íŠ¸ë˜í”½ ë¼ìš°íŒ… (êµ¬í˜„ ì™„ë£Œ)

#### ë¯¸ë””ì–´ ë° ê²Œì„ ì„œë²„

- **Jellyfin** - ë¯¸ë””ì–´ ìŠ¤íŠ¸ë¦¬ë° ì„œë²„ (êµ¬í˜„ ì™„ë£Œ)
- **qBittorrent** - í† ë ŒíŠ¸ ë‹¤ìš´ë¡œë“œ ê´€ë¦¬ (êµ¬í˜„ ì™„ë£Œ)
- **7 Days to Die** - ê²Œì„ ì„œë²„ (êµ¬í˜„ ì™„ë£Œ)
- **Game SFTP Server** - ê²Œì„ íŒŒì¼ ì „ì†¡ ì„œë¹„ìŠ¤ (êµ¬í˜„ ì™„ë£Œ)
- **NAS SFTP Server** - NAS íŒŒì¼ ì „ì†¡ ì„œë¹„ìŠ¤ (êµ¬í˜„ ì™„ë£Œ)

#### ê°œë°œ ë„êµ¬ & ê¸°íƒ€

- **Kubernetes Dashboard** - í´ëŸ¬ìŠ¤í„° ê´€ë¦¬ UI (êµ¬í˜„ ì™„ë£Œ)
- **Development Pods** - ê°œë°œ í™˜ê²½ ì»¨í…Œì´ë„ˆ (ApexCaptain) (êµ¬í˜„ ì™„ë£Œ)
- **Windows Desktop** - ì›ê²© Windows ë°ìŠ¤í¬í†± í™˜ê²½ (êµ¬í˜„ ì™„ë£Œ)

---

## ğŸ”§ ì¸í”„ë¼ ì•„í‚¤í…ì²˜

### ë„¤íŠ¸ì›Œí¬ êµ¬ì„±

```
OCI VCN
â”œâ”€â”€ Public Subnet (Bastion, Load Balancer)
â”œâ”€â”€ Private Subnet (Kubernetes Nodes)
```

### í•˜ì´ë¸Œë¦¬ë“œ Kubernetes í´ëŸ¬ìŠ¤í„° êµ¬ì„±

```
Oracle Cloud OKE Cluster (í´ë¼ìš°ë“œ)
â”œâ”€â”€ Infrastructure Layer
â”‚   â”œâ”€â”€ Compartment (êµ¬í˜„ ì™„ë£Œ)
â”‚   â”œâ”€â”€ Network (VCN, Subnets, Security Lists) (êµ¬í˜„ ì™„ë£Œ)
â”‚   â”œâ”€â”€ Bastion Host (êµ¬í˜„ ì™„ë£Œ)
â”‚   â”œâ”€â”€ Policy & IAM (êµ¬í˜„ ì™„ë£Œ)
â”‚   â””â”€â”€ Cluster Endpoint (êµ¬í˜„ ì™„ë£Œ)
â”œâ”€â”€ System Namespace
â”‚   â”œâ”€â”€ Istio Control Plane (ê°œë°œ ì¤‘)
â”‚   â”œâ”€â”€ ArgoCD (êµ¬í˜„ ì™„ë£Œ)
â”‚   â”œâ”€â”€ Vault (ê°œë°œ ì¤‘)
â”‚   â”œâ”€â”€ Monitoring Stack (Prometheus/Grafana) (êµ¬í˜„ ì™„ë£Œ)
â”‚   â”œâ”€â”€ Cert-Manager (êµ¬í˜„ ì™„ë£Œ)
â”‚   â””â”€â”€ Ingress Controller (êµ¬í˜„ ì™„ë£Œ)
â”œâ”€â”€ Application Namespace
â”‚   â”œâ”€â”€ Number Planet (êµ¬í˜„ ì™„ë£Œ)
â”‚   â”œâ”€â”€ CloudBeaver (êµ¬í˜„ ì™„ë£Œ)
â”‚   â”œâ”€â”€ Redis UI (êµ¬í˜„ ì™„ë£Œ)
â”‚   â”œâ”€â”€ OAuth2 Proxy (êµ¬í˜„ ì™„ë£Œ)
â”‚   â”œâ”€â”€ Home L2TP VPN Proxy (êµ¬í˜„ ì™„ë£Œ)
â”‚   â”œâ”€â”€ NFS Server (êµ¬í˜„ ì™„ë£Œ)
â”‚   â””â”€â”€ Kubernetes Dashboard (êµ¬í˜„ ì™„ë£Œ)
â””â”€â”€ GitOps Layer
    â””â”€â”€ ArgoCD Applications (êµ¬í˜„ ì™„ë£Œ)

On-premise Workstation Cluster
â”œâ”€â”€ Infrastructure Layer
â”‚   â”œâ”€â”€ Node Metadata (êµ¬í˜„ ì™„ë£Œ)
â”‚   â”œâ”€â”€ Longhorn Storage (HDD + SSD) (êµ¬í˜„ ì™„ë£Œ)
â”‚   â””â”€â”€ MetalLB Load Balancer (êµ¬í˜„ ì™„ë£Œ)
â”œâ”€â”€ System Namespace
â”‚   â”œâ”€â”€ Istio Control Plane (ê°œë°œ ì¤‘)
â”‚   â”œâ”€â”€ Monitoring Stack (Prometheus/Grafana) (êµ¬í˜„ ì™„ë£Œ)
â”‚   â”œâ”€â”€ Cert-Manager (êµ¬í˜„ ì™„ë£Œ)
â”‚   â””â”€â”€ Ingress Controller (êµ¬í˜„ ì™„ë£Œ)
â”œâ”€â”€ Application Namespace
â”‚   â”œâ”€â”€ Media Services
â”‚   â”‚   â”œâ”€â”€ Jellyfin (êµ¬í˜„ ì™„ë£Œ)
â”‚   â”‚   â””â”€â”€ qBittorrent (êµ¬í˜„ ì™„ë£Œ)
â”‚   â”œâ”€â”€ Game Services
â”‚   â”‚   â”œâ”€â”€ 7 Days to Die (êµ¬í˜„ ì™„ë£Œ)
â”‚   â”‚   â””â”€â”€ Game SFTP (êµ¬í˜„ ì™„ë£Œ)
â”‚   â”œâ”€â”€ File Services
â”‚   â”‚   â””â”€â”€ NAS SFTP (êµ¬í˜„ ì™„ë£Œ)
â”‚   â””â”€â”€ Kubernetes Dashboard (êµ¬í˜„ ì™„ë£Œ)
â”œâ”€â”€ Development Namespace
â”‚   â”œâ”€â”€ Windows Desktop (êµ¬í˜„ ì™„ë£Œ)
â”‚   â””â”€â”€ Dev Pods (ApexCaptain) (êµ¬í˜„ ì™„ë£Œ)
â””â”€â”€ GitOps Layer
    â””â”€â”€ ArgoCD Applications (êµ¬í˜„ ì™„ë£Œ)
```

## ğŸ¯ í•µì‹¬ ì„±ê³¼

### 1. ì¸í”„ë¼ ìë™í™”

- **100% ì½”ë“œ ê¸°ë°˜ ì¸í”„ë¼** ê´€ë¦¬ (TypeScript + CDKTF)
- **GitOps ì›Œí¬í”Œë¡œìš°** êµ¬í˜„ìœ¼ë¡œ ë°°í¬ ìë™í™” (ArgoCD ê¸°ë°˜)
- **ë©€í‹° í´ëŸ¬ìŠ¤í„°** í™˜ê²½ êµ¬ì¶• (OKE + Workstation)
- **ì„ íƒì  ë°°í¬ ì‹œìŠ¤í…œ** êµ¬í˜„ (ëŒ€í™”í˜• í„°ë¯¸ë„ ë„êµ¬)
- **Terraform ìƒíƒœ ìë™ ë°±ì—…** ì‹œìŠ¤í…œ

### 2. ë³´ì•ˆ ê°•í™”

- **Zero Trust ë„¤íŠ¸ì›Œí¬** ì•„í‚¤í…ì²˜ êµ¬í˜„
- **OAuth2 ê¸°ë°˜ ì¸ì¦** í”„ë¡ì‹œ (GitHub OAuth)
- **SSL/TLS ì¸ì¦ì„œ** ìë™ ê´€ë¦¬ ë° ê°±ì‹  (Cert-Manager)
- **ì‹œí¬ë¦¿ ê´€ë¦¬** ìë™í™” (Vault ê°œë°œ ì¤‘)
- **VPN í”„ë¡ì‹œ** êµ¬í˜„ (L2TP/IPsec)

### 3. ìš´ì˜ íš¨ìœ¨ì„±

- **ë¶„ì‚° ìŠ¤í† ë¦¬ì§€** ì‹œìŠ¤í…œ (Longhorn - HDD/SSD í•˜ì´ë¸Œë¦¬ë“œ)
- **ë¡œë“œ ë°¸ëŸ°ì‹±** (MetalLB)
- **ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ** êµ¬ì¶• (Prometheus/Grafana ê°œë°œ ì¤‘)
- **ë°±ì—… ë° ë³µêµ¬** ìë™í™”
- **ë¯¸ë””ì–´ & ê²Œì„ ì„œë²„** í†µí•© ê´€ë¦¬

### 4. ê°œë°œì ê²½í—˜

- **í´ë¼ìš°ë“œ ë„¤ì´í‹°ë¸Œ ê°œë°œ í™˜ê²½** (Dev Pods)
- **Windows ì›ê²© ë°ìŠ¤í¬í†±** í™˜ê²½
- **ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬ ë„êµ¬** (CloudBeaver)
- **MCP ì„œë²„ í†µí•©** (Context7)

---

## ğŸ› ï¸ ì£¼ìš” ìŠ¤í¬ë¦½íŠ¸

| ìŠ¤í¬ë¦½íŠ¸                   | ì„¤ëª…                          |
| -------------------------- | ----------------------------- |
| `yarn projen`              | Projen ì„¤ì • ì¬ìƒì„±            |
| `yarn build`               | í”„ë¡œì íŠ¸ ë¹Œë“œ                 |
| `yarn compile`             | TypeScript ì»´íŒŒì¼             |
| `yarn tf@build`            | CDKTF ì½”ë“œ ì‹ ì‹œì‚¬ì´ì¦ˆ (synth) |
| `yarn tf@deploy`           | ì „ì²´ ì¸í”„ë¼ ë°°í¬ (ë³‘ë ¬ 20)    |
| `yarn tf@deploy:selection` | ì„ íƒì  ìŠ¤íƒ ë°°í¬ (ëŒ€í™”í˜•)     |
| `yarn tf@deploy:single`    | ë‹¨ì¼ ìŠ¤íƒ ë°°í¬                |
| `yarn tf@plan`             | ë°°í¬ ê³„íš í™•ì¸ (diff)         |
| `yarn tf@install`          | Terraform provider ì´ˆê¸°í™”     |
| `yarn tf@backup`           | tfstate íŒŒì¼ ë°±ì—…             |
| `yarn tf@clean`            | CDKTF ì¶œë ¥ ë””ë ‰í† ë¦¬ ì •ë¦¬      |
| `yarn terminal`            | ëŒ€í™”í˜• í„°ë¯¸ë„ ë„êµ¬ v2         |

---

## ğŸ† ê¸°ìˆ ì  ë„ì „ê³¼ í•´ê²°

### 1. í•˜ì´ë¸Œë¦¬ë“œ ë©€í‹° í´ëŸ¬ìŠ¤í„° í†µì‹ 

**ë„ì „**: í´ë¼ìš°ë“œ(OKE)ì™€ On-premise(Workstation) Kubernetes í´ëŸ¬ìŠ¤í„° ê°„ ì•ˆì „í•œ í†µì‹  êµ¬ì¶•

**í•´ê²°**:

- Istio ì„œë¹„ìŠ¤ ë©”ì‹œ êµ¬í˜„ (ê°œë°œ ì¤‘)
- L2TP VPN í”„ë¡ì‹œë¥¼ í†µí•œ ì•ˆì „í•œ ë„¤íŠ¸ì›Œí¬ í„°ë„ë§ (êµ¬í˜„ ì™„ë£Œ)
- ArgoCDë¥¼ í†µí•œ ë©€í‹° í´ëŸ¬ìŠ¤í„° ë°°í¬ ê´€ë¦¬ (êµ¬í˜„ ì™„ë£Œ)

### 2. ìŠ¤í† ë¦¬ì§€ ì „ëµ

**ë„ì „**: On-premise í™˜ê²½ì—ì„œì˜ íš¨ìœ¨ì ì¸ ìŠ¤í† ë¦¬ì§€ ê´€ë¦¬

**í•´ê²°**:

- Longhorn ë¶„ì‚° ìŠ¤í† ë¦¬ì§€ ì‹œìŠ¤í…œ ë„ì…
- HDD/SSD í•˜ì´ë¸Œë¦¬ë“œ êµ¬ì„±ìœ¼ë¡œ ì„±ëŠ¥ê³¼ ìš©ëŸ‰ ìµœì í™”
- ìë™ ë°±ì—… ë° ë³µì œ ê¸°ëŠ¥ êµ¬í˜„

### 3. GitOps íŒŒì´í”„ë¼ì¸

**ë„ì „**: ë³µì¡í•œ ë©€í‹° í´ëŸ¬ìŠ¤í„° í™˜ê²½ì—ì„œì˜ ì¼ê´€ëœ ë°°í¬ ê´€ë¦¬

**í•´ê²°**:

- ArgoCD ê¸°ë°˜ GitOps ì›Œí¬í”Œë¡œìš° êµ¬ì¶•
- ì„ íƒì  ìŠ¤íƒ ë°°í¬ ë„êµ¬ ê°œë°œ (ëŒ€í™”í˜• CLI)
- ìë™í™”ëœ ë°°í¬ ê²€ì¦ ë° ë¡¤ë°± ë©”ì»¤ë‹ˆì¦˜

### 4. ìƒíƒœ ê´€ë¦¬ ë° ë°±ì—…

**ë„ì „**: Terraform ìƒíƒœ íŒŒì¼ì˜ ì•ˆì „í•œ ê´€ë¦¬ì™€ ë²„ì „ ê´€ë¦¬

**í•´ê²°**:

- ë¡œì»¬ ë°±ì—”ë“œì™€ ìë™ ë°±ì—… ìŠ¤í¬ë¦½íŠ¸ êµ¬í˜„
- ìŠ¤íƒë³„ ë…ë¦½ì ì¸ ìƒíƒœ ê´€ë¦¬
- Git ê¸°ë°˜ ë²„ì „ ê´€ë¦¬ ì‹œìŠ¤í…œ

### 5. ë³´ì•ˆ ê°•í™”

**ë„ì „**: í´ë¼ìš°ë“œ ë„¤ì´í‹°ë¸Œ í™˜ê²½ì—ì„œì˜ ì¢…í•©ì  ë³´ì•ˆ ì²´ê³„ êµ¬ì¶•

**í•´ê²°**:

- OAuth2 Proxyë¥¼ í†µí•œ ì¸ì¦ ë ˆì´ì–´ (êµ¬í˜„ ì™„ë£Œ)
- Cert-Managerë¥¼ í†µí•œ ìë™ SSL/TLS ê´€ë¦¬ (êµ¬í˜„ ì™„ë£Œ)
- Bastion í˜¸ìŠ¤íŠ¸ë¥¼ í†µí•œ ì•ˆì „í•œ í´ëŸ¬ìŠ¤í„° ì ‘ê·¼ (êµ¬í˜„ ì™„ë£Œ)
- Vault ì‹œí¬ë¦¿ ê´€ë¦¬ ì‹œìŠ¤í…œ (ê°œë°œ ì¤‘)
